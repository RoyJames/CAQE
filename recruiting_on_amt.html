

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Running the Evaluation on Amazon’s Mechanical Turk &mdash; CAQE 0.1.1a1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="CAQE 0.1.1a1 documentation" href="index.html"/>
        <link rel="next" title="Downloading and Analyzing Data" href="data_analysis.html"/>
        <link rel="prev" title="Deployment" href="deployment.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> CAQE
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="deployment.html">Deployment</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Running the Evaluation on Amazon&#8217;s Mechanical Turk</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#recruiting-participants">Recruiting Participants</a></li>
<li class="toctree-l2"><a class="reference internal" href="#paying-participants">Paying Participants</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data_analysis.html">Downloading and Analyzing Data</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="test_configurations.html">Test Configurations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="source/caqe.html">CAQE Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="source/scripts.html">Scripts</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">CAQE</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Running the Evaluation on Amazon&#8217;s Mechanical Turk</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/recruiting_on_amt.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="running-the-evaluation-on-amazon-s-mechanical-turk">
<h1>Running the Evaluation on Amazon&#8217;s Mechanical Turk<a class="headerlink" href="#running-the-evaluation-on-amazon-s-mechanical-turk" title="Permalink to this headline">¶</a></h1>
<p>In order to collect data quickly, we recommend recruiting participants for your audio evaluation by posting HITs (Human Information Tasks) to <a class="reference external" href="http://mechanicalturk.amazon.com">Amazon&#8217;s Mechanical Turk</a> (MTurk), which is a microtask labor market. On this platform it is recommended that you pay workers at least $6.00 / hr (see <a class="reference external" href="http://wiki.wearedynamo.org/index.php/Guidelines_for_Academic_Requesters">MTurk Guidelines for Academic Requesters</a>). On top of that Amazon also takes a fee. This works out to be comparable to what you would pay participants in a lab study, but you can obtain your data much more quickly and with less effort.</p>
<div class="section" id="recruiting-participants">
<h2>Recruiting Participants<a class="headerlink" href="#recruiting-participants" title="Permalink to this headline">¶</a></h2>
<p>To recruit participants to evaluate our audio, we post assignments on Mechanical Turk. For each assignment, a participant will perform a single trial (the evaluations associated with one <cite>condition</cite> as defined in the config, e.g. one MUSHRA)</p>
<ol class="arabic">
<li><p class="first"><a class="reference external" href="https://requester.mturk.com/">Create an account on MTurk</a></p>
</li>
<li><p class="first">Create an Amazon AWS IAM user with AmazonMechanicalTurkFullAccess and put your this user&#8217;s credentials into your <code class="docutils literal"><span class="pre">secret_keys.py</span></code> file (under <code class="docutils literal"><span class="pre">CAQE/src/caqe</span></code>).</p>
<blockquote>
<div><ol class="arabic simple">
<li>Log into <a class="reference external" href="http://aws.amazon.com">Amazon AWS</a></li>
<li>Click on <cite>Identity &amp; Access Management</cite> under Amazon Web Services.</li>
<li>Click on <cite>Users</cite> on the side-panel menu.</li>
<li>Click on <cite>Create New Users</cite></li>
<li>Enter a name for your CAQE application and press <cite>Create</cite>.</li>
<li>Click <cite>Show User Security Credentials</cite> and copy those keys into the <code class="docutils literal"><span class="pre">secret_keys.py</span></code> file that you generated earlier using <code class="docutils literal"><span class="pre">generate_key_file.py</span></code>.</li>
<li>Click on <cite>Policies</cite> on the side-panel menu.</li>
<li>Check <code class="docutils literal"><span class="pre">AmazonMechanicalTurkFullAccess</span></code>, click the <code class="docutils literal"><span class="pre">Policy</span> <span class="pre">Actions</span></code> button at the top, and click <code class="docutils literal"><span class="pre">Attach</span></code>.</li>
<li>Attach the policy to the user you just created.</li>
</ol>
</div></blockquote>
</li>
<li><p class="first">Configure the MTurk variables in your config file. These are all variables that have the <code class="docutils literal"><span class="pre">MTURK</span></code> prefix. Use these variables to set your HIT&#8217;s title, description, reward, etc. See <a class="reference internal" href="source/caqe.configuration.html"><span class="doc">caqe.configuration module</span></a> for more information.</p>
</li>
<li><p class="first">Set <cite>APP_MODE</cite> to <cite>PRODUCTION</cite>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ export APP_MODE=PRODUCTION
</pre></div>
</div>
</li>
<li><p class="first">Set the <code class="docutils literal"><span class="pre">SERVER_ADDRESS</span></code> environment variable to your production server, e.g.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ export SERVER_ADDRESS=&lt;your-caqe-app&gt;.herokuapp.com
</pre></div>
</div>
</li>
<li><p class="first">After your variables are configured, post your HIT to the MTurk sandbox for testing. With the <code class="docutils literal"><span class="pre">--debug</span></code> flag HITs are created without the worker qualification requirements so that you can test them in the sandbox.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ python turk_admin_cli.py --debug create-hits &lt;num_hits&gt;
</pre></div>
</div>
</li>
<li><p class="first">Your HITs will now be viewable on the Mechanical Turk sandbox site. Visit <a class="reference external" href="http://workersandbox.mturk.com">http://workersandbox.mturk.com</a> and search for the title you provided in your configuration. You can expire them with <code class="docutils literal"><span class="pre">turk_admin_cli.py</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ python turk_admin_cli.py expire-all-hits
</pre></div>
</div>
</li>
<li><p class="first">Once you are ready to post your HITs to production Mechanical Turk Site, clear out your database. E.g., for Heroku:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ heroku run python src/create_db.py
</pre></div>
</div>
<p>set the <code class="docutils literal"><span class="pre">MTURK_HOST</span></code> environment variable:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ export MTURK_HOST=&#39;mechanicalturk.amazonaws.com&#39;
</pre></div>
</div>
<p>and then again use <code class="docutils literal"><span class="pre">turk_admin_cli.py</span></code> to create HITs:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ python turk_admin_cli.py create-hits &lt;num_hits&gt;
</pre></div>
</div>
</li>
<li><p class="first">You can view the progress of your evaluation at <a class="reference external" href="http://your-caqe-app.com/admin/stats">http://your-caqe-app.com/admin/stats</a></p>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If you need to end the HIT early (e.g. you made a mistake or you have enough data), you can <cite>expire</cite> the hits:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span>$ python turk_admin_cli.py expire-all-hits
</pre></div>
</div>
</div>
</div>
<div class="section" id="paying-participants">
<h2>Paying Participants<a class="headerlink" href="#paying-participants" title="Permalink to this headline">¶</a></h2>
<p>After a HIT is complete, you must pay participants in a timely manner. The <code class="docutils literal"><span class="pre">MTURK_AUTO_APPROVAL_DELAY_IN_SECONDS</span></code> config variable sets the auto-approval window. <code class="docutils literal"><span class="pre">MTURK_AUTO_APPROVAL_DELAY_IN_SECONDS</span></code> seconds after a participant submits a HIT, they will automatically be paid the reward of <code class="docutils literal"><span class="pre">MTURK_REWARD</span></code> in USD.</p>
<p>If you need to approve HIT assignments and pay participants before this amount of time passes, you can issue the following command:</p>
<blockquote>
<div>$ python turk_admin_cli.py approve-all-hits</div></blockquote>
<p>After HIT assignment have been approved you can bonus participants. If you are asking the participant to perform a hearing screening or survey on their first HIT assignment, you should pay them for that extra time in the form of a bonus. To assign a bonus for all completed first assignments. (Note the bonus amount is set by default by the <code class="docutils literal"><span class="pre">MTURK_FIRST_HIT_BONUS</span></code> config variable):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ python turk_admin_cli.py give-first-trial-bonus &lt;bonus_amt&gt;
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are using the <code class="docutils literal"><span class="pre">general_mushra.cfg</span></code>, <code class="docutils literal"><span class="pre">sourceseparation_mushra.cfg</span></code>, <code class="docutils literal"><span class="pre">general_pairwise.cfg</span></code>, or  <code class="docutils literal"><span class="pre">sourceseparation_pairwise.cfg</span></code>  configurations, workers are told in the description that they will receive this bonus. Therefore, make sure to either pay the bonus or change description and instructions in the configuration.</p>
</div>
<p>If you are performing a pairwise-comparison listening test, you can bonus participants based on their pairwise consistency. This is a good incentive for workers. (see <code class="docutils literal"><span class="pre">python</span> <span class="pre">turk_admin_clip.y</span> <span class="pre">give-pairwise-consistency-bonus</span> <span class="pre">--help</span></code> and the <code class="docutils literal"><span class="pre">MTURK_MAX_CONSISTENCY_BONUS</span></code>, <code class="docutils literal"><span class="pre">MTURK_MIN_CONSISTENCY_THRESHOLD_FOR_BONUS</span></code> for more details):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ python turk_admin_cli.py give-pairwise-consistency-bonus
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are using the <code class="docutils literal"><span class="pre">general_pairwise.cfg</span></code> or <code class="docutils literal"><span class="pre">sourceseparation_pairwise.cfg</span></code> configurations, workers are told in the description that they will receive this bonus. Therefore, make sure to either pay the bonus or change description and instructions in the configuration.</p>
</div>
<p>Once you have paid the workers and downloaded the data (see <a class="reference internal" href="data_analysis.html"><span class="doc">Downloading and Analyzing Data</span></a>), you can dispose of the HITs:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ python turk_admin_cli.py dispose-all-hits
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="data_analysis.html" class="btn btn-neutral float-right" title="Downloading and Analyzing Data" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="deployment.html" class="btn btn-neutral" title="Deployment" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Copyright (c) 2016 Mark Cartwright.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.1a1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>